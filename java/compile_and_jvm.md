# 자바의 컴파일

### 전통적인 컴파일 방식(예: C)
- 소스코드(.h, .c) -> 전처리기 -> `확장된 소스코드 -> 컴파일러 -> 어셈블리코드 -> 어셈블러 -> 오브젝트코드` -> 링커 -> 머신코드 실행파일(.exe)
- 위의 블록 부분의 과정을 컴파일링 이라 한다.
- 링커: 소스코드 하나당 하나의 오브젝트 코드가 생성. 이 오브젝트 코드들을 엮는 역할을 한다.
- 전통적인 컴파일 및 실행
	- 컴파일을 하면 실행파일이 나온다.
	- 실행파일은 기계어이며 운영체제가 직접 실행가능한 파일이다.
	- 각 운영체제/디바이스 마다 실행파일을 따로 만들어줘야 한다.
		- 컴파일러가 소스코드를 각 운영체제/디바이스에 맞는 기계어로 바꿔준다
		- 소스코드는 안바꿔도 된다. 이런 관점에서 C는 크로스 플랫폼이다. 하지만 실행파일은 크로스 플랫폼이 아니다.

### 자바의 컴파일 모델
- 코드를 컴파일한 결과는 바이트코드
	- 실행 파일이 아니다. 즉 운영체제가 이해못한다.
- 바이트코드(byte code)란?
	- 어떤 운영체제/디바이스가 이해하는 기계어가 아니다.
	- JVM이라는 특수한 프로그램이 이해하는 명령어
	- JVM이 실행중에 최종 플랫폼에 맞는 명령어로 바꿔서 실행해줌
	- JVM에 맞게 최적화되었지만 당연히 기계어보다 느림
	- JVM은 최종 플랫폼(윈도우, 리눅스, 맥 등)에 설치하는 프로그램

### 자바 가상 머신(JVM)
- 운영체제에 설치하는 별도의 프로그램
	- 각 운영체제/디바이스마다 다른 버전을 설치
- 자바의 바이트코드를 실행함
- 따라서 운영체제나 디바이스의 영향을 받지 않는다. 크로스 플랫폼!

### 자바의 플랫폼은 JVM?
- JVM이 설치안되어 있으면 자바 프로그램 실행불가
- 즉 자바의 플랫폼은 JVM이라도고 할 수 있음
- JVM이 바이트 코드를 실제 디바이스에서 실행하는 방식은 다양
	- 과거 JVM은 인터프리터 방식으로 동작
	- 최신 JVM은 JIT(Just-In-Time) 컴파일을 추가
	- 여러가지 컴파일 방식이 공존하는 형태