# 자바의 예외

- 자바는 어디서 어떤 예외가 나오는지 모르는 그런 상황을 막아보겠다고 제대로 언어 디자인한게 있다.
- 자바가 예외를 크게 두 부류로 나눴기 때문.
- checked
	- 컴파일러가 예외 처리를 제대로 하는지 확인해줌
	- 어느 메서드가 어떤 예외를 던지는지 명확히 알 수 있음 -> 명확해지는게 확실한가? 확인 필요. 오히려 복잡해진다는 말이 있어서.
	- 예외가 발생하는 코드에서 아래 둘 중 하나를 안하면 컴파일 오류
		- 발생한 예외를 그 코드 안에서 처리(catch 블록)
		- 처리를 안할 경우 throw
	- 롤백하지 않음
- unchecked
	- 어디서 어떤 예외가 나는지 한 눈에 알기 어려움
	- RuntimeException을 상속
	- 컴파일러가 따로 검사를 안해줌
	- 롤백함
- 제어흐름용으로 예외를 사용해서는 안된다.
	- 제어 흐름용으로 사용하면 만약 정말 unusual 상황일 때 난감한 상황 발생할 수도 있다.
	- 예외는 오류 상황이라는 전제 하에 모든 툴이 개발되어있다.
	- 예: 브레이킹 포인트 찍어서 디버깅 하는 경우
- checked　예외의 존재의의는 checked 예외가 발생하면 어떻게든 프로그램을 정상상태로 회복하라.
	- 현재 프로그램 흐름 내에서 회복할 수 있을 때에만 checked exception을 사용해야 한다.
- 외부로부터 들어오는 데이터를 핸들링할 때, 즉 사용자로부터, 운영체제로부터, 외부 라이브러리로부터 들어오는 데이터는 언제든 유효하지 않을 수 있다. 
	- 따라서 반드시 검증해야 한다. 잘못된 데이터일 경우 문제가 있다고 알려야 한다. 예외를 발생시키는 것이 그 한 방법이다.

- 예외 복구 전략이 명확하고 그것이 가능하면 checked exception을 try-catch로 잡고 해당 복구를 하는 것이 좋다.
- 하지만 그러한 경우는 흔하지 않으며 checked exception이 발생하면 더 구체적인 unchecked exception을 발생시키고 예외에 대한 메시지를 명확하게 전달하는 것이 더욱 효과적.
- 무책임하게 상위 메서드로 throw를 던지는 행위는 하지 않는 것이 좋다. 상위 메서드들의 책임이 그만큼 증가하기 때문. 

- Error는 비정상적인 상황에서 발생. 이 수준의 에러는 시스템 레벨에서 발새하는 심각한 수준의 오류이므로 개발자가 미리 예측할 수도, 처리할 수도 없다. 그러므로 애플리케이션단에서는 신경쓰지 않아도 된다. OutOfMemoryError같은 에러는 try-catch로 잡아도 할 수 있는게 없기 때문.

- checked 에러 단점
	- 개방/폐쇄 원칙에 어긋남. try-catch로 처리하지 않고 위로 던지려면 메서드 시그니쳐에 throws를 명시해야 한다. 던진 메서드부터 해당 예외 처리하는 메서드까지의 모든 메서드에 시그니처를 수정해야 되므로 개방/폐쇄 원칙 어긋남
	- 의존성 생김

- 블로그: https://velog.io/@destiny1616/Exception-Handling